<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Let ideas fly freely.">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="MindKite">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>MindKite</title>
  <link rel="manifest" href="manifest.json">
  <style>
    :root {
      color-scheme: light dark;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: "Inter", "SF Pro Display", "Segoe UI", Roboto, Helvetica,
        Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      background: linear-gradient(135deg, #6d69ff, #00e5ff);
      color: #fff;
    }

    #mindkite-loader {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      z-index: 9999;
      transition: opacity 300ms ease;
      background: linear-gradient(135deg, rgba(109, 105, 255, 0.98), rgba(0, 229, 255, 0.98));
    }

    #mindkite-loader.mindkite-loader--hidden {
      opacity: 0;
      pointer-events: none;
    }

    .mindkite-loader__content {
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
      max-width: 320px;
    }

    .mindkite-loader__logo {
      padding: 12px;
      border-radius: 28px;
      background: rgba(255, 255, 255, 0.18);
      box-shadow: 0 18px 35px rgba(8, 16, 32, 0.22);
      backdrop-filter: blur(6px);
    }

    .mindkite-loader__title {
      font-size: clamp(28px, 4vw, 36px);
      font-weight: 700;
      letter-spacing: 0.2px;
      margin: 0;
    }

    .mindkite-loader__subtitle {
      margin: 0;
      font-size: clamp(16px, 2.6vw, 18px);
      color: rgba(255, 255, 255, 0.82);
      letter-spacing: 0.4px;
    }

    .mindkite-loader__progress {
      width: 96px;
      height: 4px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.24);
      overflow: hidden;
    }

    .mindkite-loader__progress-bar {
      display: block;
      width: 45%;
      height: 100%;
      border-radius: inherit;
      background: #fff;
      animation: mindkite-loader-progress 1.1s ease-in-out infinite;
    }

    @keyframes mindkite-loader-progress {
      0% {
        transform: translateX(-120%);
      }
      50% {
        transform: translateX(120%);
      }
      100% {
        transform: translateX(120%);
      }
    }

    flt-progress,
    flt-loading {
      display: none !important;
    }
  </style>
</head>
<body>
  <div id="mindkite-loader" role="status" aria-live="polite">
    <div class="mindkite-loader__content">
      <div class="mindkite-loader__logo">
        <img
          src="assets/logo/mindkite_mark_notail_light.svg"
          alt="MindKite logo"
          width="128"
          height="128"
          decoding="async"
        />
      </div>
      <h1 class="mindkite-loader__title">MindKite</h1>
      <p class="mindkite-loader__subtitle">Let ideas fly freely.</p>
      <div class="mindkite-loader__progress" aria-hidden="true">
        <span class="mindkite-loader__progress-bar"></span>
      </div>
    </div>
  </div>
  <script>
    (function () {
      const loader = document.getElementById('mindkite-loader');

      const hideLoader = () => {
        if (!loader || loader.classList.contains('mindkite-loader--hidden')) {
          return;
        }
        loader.classList.add('mindkite-loader--hidden');
        window.setTimeout(() => loader.remove(), 420);
      };

      window.addEventListener('flutter-first-frame', hideLoader);
      window.addEventListener('load', () => {
        const fallbackTimeout = window.setTimeout(hideLoader, 8000);
        window.addEventListener('flutter-first-frame', () => {
          window.clearTimeout(fallbackTimeout);
        });

        const defaultLoader = document.querySelector('flt-loading');
        if (defaultLoader && typeof defaultLoader.remove === 'function') {
          defaultLoader.remove();
        }
      });
    })();
  </script>
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>
